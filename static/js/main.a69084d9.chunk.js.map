{"version":3,"sources":["components/ImageGalleryItem.jsx","components/ImageGallery.jsx","components/Searchbar.jsx","components/Button.jsx","api.js","components/Modal.jsx","App.js","index.js"],"names":["ImageGalleryItem","value","openModal","map","img","className","onClick","largeImageURL","tags","src","webformatURL","alt","id","ImageGallery","Searchbar","onSubmit","useState","setValue","e","preventDefault","toast","error","type","autoComplete","autoFocus","placeholder","onChange","target","Button","Api","this","searchQuery","page","url","fetch","then","response","json","hits","incrementPage","catch","console","log","newQuery","modalRoot","document","querySelector","Modal","closeModal","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","currentTarget","apiImages","App","searchImages","setSearchImages","loading","setLoading","description","setDescription","selectedImage","setSelectedImage","searchbar","a","query","resetPage","fetchImage","finally","length","success","loadMore","prev","scrollTo","top","documentElement","scrollHeight","behavior","style","loaderStyles","color","height","width","position","toastOptions","toastStyle","left","transform","background","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a69084d9.chunk.js","sourcesContent":["export const ImageGalleryItem = ({ value, openModal }) => {\r\n  return (\r\n    <>\r\n      {value.map(img => {\r\n        return (\r\n          <li\r\n            key={img.id}\r\n            className=\"ImageGalleryItem\"\r\n            onClick={() => openModal(img.largeImageURL, img.tags)}\r\n          >\r\n            <img\r\n              src={img.webformatURL}\r\n              alt={img.tags}\r\n              className=\"ImageGalleryItem-image\"\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n","import { ImageGalleryItem } from './ImageGalleryItem';\r\n\r\nexport const ImageGallery = ({ value, openModal }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        <ImageGalleryItem value={value} openModal={openModal} />\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nexport const Searchbar =({onSubmit})=>{\r\n  const [value,setValue] = useState('')\r\n\r\n  const handleChange = e => {\r\n    const { value } = e.target;\r\n    setValue(value)\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (!value) return toast.error('not correct input')\r\n    onSubmit(value)\r\n    setValue('')\r\n  };\r\n\r\n    return (\r\n      <>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              value={value} //тут потрібно value щоб очищати state через setValue('')\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n}\r\n","export const Button = ({ onClick }) => {\r\n  return (\r\n    <>\r\n      <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n","const API_KEY = '21492726-451e87d3f3afe144072272f85';\r\n\r\nexport class Api {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  fetchImage() {\r\n    const url = `https://pixabay.com/api/?q=${this.searchQuery}&page=${this.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=15`;\r\n\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(({ hits }) => {\r\n        this.incrementPage();\r\n        return hits;\r\n      })\r\n      .catch(error => console.log('error', error));\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n}\r\n","import { createPortal } from 'react-dom';\r\nimport { useEffect } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport const  Modal =({closeModal,children})=> {\r\n  useEffect(()=>{\r\n    window.addEventListener('keydown',handleKeyDown);\r\n    return ()=>{\r\n      window.removeEventListener('keydown',handleKeyDown);\r\n    }\r\n  })\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') return closeModal();\r\n  };\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) return closeModal();\r\n  };\r\n\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={handleBackdropClick}>\r\n        <div className=\"Modal\">{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n}\r\n","import { useState } from 'react';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport Loader from 'react-loader-spinner';\r\nimport { ImageGallery } from './components/ImageGallery';\r\nimport { Searchbar } from './components/Searchbar';\r\nimport { Button } from './components/Button';\r\nimport { Api } from './api';\r\nimport { Modal } from './components/Modal';\r\n\r\nconst apiImages = new Api();\r\n\r\nexport function App() {\r\n  const [searchImages, setSearchImages] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [description, setDescription] = useState(null);\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n\r\n\r\n  const searchbar = async value => {\r\n    if (!value) return;\r\n    apiImages.query = value;\r\n    apiImages.resetPage();\r\n\r\n    setLoading(true);\r\n    setSearchImages([]);\r\n\r\n    const img = await apiImages\r\n      .fetchImage()\r\n      .finally(() => setLoading(false));\r\n\r\n    if (img.length !== 0) toast.success('success');\r\n    if (img.length === 0) toast.error('nothing found');\r\n\r\n    setSearchImages(img);\r\n  };\r\n\r\n  const loadMore = async () => {\r\n    setLoading(true);\r\n\r\n    const img = await apiImages\r\n      .fetchImage()\r\n      .finally(() => setLoading(false));\r\n\r\n    if (img.length !== 0) toast.success('success');\r\n    if (img.length === 0) toast.error('nothing more was found');\r\n\r\n    setSearchImages(prev => [...prev, ...img]);\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  const openModal = (selectedImage, description) => {\r\n    setSelectedImage(selectedImage);\r\n    setDescription(description);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setSelectedImage(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={searchbar} />\r\n      {loading && (\r\n        <Loader\r\n          className='Overlay'\r\n          style={loaderStyles}\r\n          type='BallTriangle'\r\n          color='#00BFFF'\r\n          height={200}\r\n          width={200}\r\n        />\r\n      )}\r\n      <ImageGallery value={searchImages} openModal={openModal} />\r\n      {searchImages.length !== 0 && <Button onClick={loadMore} />}\r\n      {selectedImage && (\r\n        <Modal closeModal={closeModal}>\r\n          <img src={selectedImage} alt={description} />\r\n        </Modal>\r\n      )}\r\n      <Toaster position='top-right' toastOptions={toastStyle} />\r\n    </>\r\n  );\r\n}\r\n\r\nconst loaderStyles = {\r\n  position: 'fixed',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%,-50%)',\r\n};\r\nconst toastStyle = {\r\n  success: {\r\n    style: {\r\n      color: '#fff',\r\n      background: 'green',\r\n    },\r\n  },\r\n  error: {\r\n    style: {\r\n      color: '#fff',\r\n      background: 'red',\r\n    },\r\n  },\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport { App } from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}