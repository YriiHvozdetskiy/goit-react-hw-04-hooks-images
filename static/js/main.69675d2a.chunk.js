(this["webpackJsonphw-03-image-finder"]=this["webpackJsonphw-03-image-finder"]||[]).push([[0],{18:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(6),o=n.n(c),i=(n(18),n(10)),s=n(5),u=n.n(s),l=n(9),h=n(3),j=n(11),f=n.n(j),b=n(0),m=function(e){var t=e.value,n=e.openModal;return Object(b.jsx)(b.Fragment,{children:t.map((function(e){return Object(b.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(e.largeImageURL,e.tags)},children:Object(b.jsx)("img",{src:e.webformatURL,alt:e.tags,className:"ImageGalleryItem-image"})},e.id)}))})},d=function(e){var t=e.value,n=e.openModal;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("ul",{className:"ImageGallery",children:Object(b.jsx)(m,{value:t,openModal:n})})})},p=function(e){var t=e.onSubmit,n=Object(r.useState)(""),a=Object(h.a)(n,2),c=a[0],o=a[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{className:"SearchForm-input",type:"text",value:c,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.target.value;o(t)}})]})})})},O=function(e){var t=e.onClick;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})})},g=n(12),v=n(13),x=function(){function e(){Object(g.a)(this,e),this.searchQuery="",this.page=1}return Object(v.a)(e,[{key:"fetchImage",value:function(){var e=this,t="https://pixabay.com/api/?q=".concat(this.searchQuery,"&page=").concat(this.page,"&key=").concat("21492726-451e87d3f3afe144072272f85","&image_type=photo&orientation=horizontal&per_page=15");return fetch(t).then((function(e){return e.json()})).then((function(t){var n=t.hits;return e.incrementPage(),n})).catch((function(e){return console.log("error",e)}))}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}(),y=document.querySelector("#modal-root"),w=function(e){var t=e.closeModal,n=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){if("Escape"===e.code)return t()};return Object(c.createPortal)(Object(b.jsx)("div",{className:"Overlay",onClick:function(e){if(e.target===e.currentTarget)return t()},children:Object(b.jsx)("div",{className:"Modal",children:n})}),y)},k=new x;function S(){var e=Object(r.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(h.a)(c,2),s=o[0],j=o[1],m=Object(r.useState)(null),g=Object(h.a)(m,2),v=g[0],x=g[1],y=Object(r.useState)(null),S=Object(h.a)(y,2),N=S[0],I=S[1],M=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return k.query=t,k.resetPage(),j(!0),a([]),e.next=8,k.fetchImage().finally((function(){return j(!1)}));case 8:n=e.sent,a(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,k.fetchImage().finally((function(){return j(!1)}));case 3:t=e.sent,a((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(p,{onSubmit:M}),s&&Object(b.jsx)(f.a,{className:"Overlay",style:F,type:"BallTriangle",color:"#00BFFF",height:200,width:200}),Object(b.jsx)(d,{value:n,openModal:function(e,t){I(e),x(t)}}),0!==n.length&&Object(b.jsx)(O,{onClick:C}),N&&Object(b.jsx)(w,{closeModal:function(){I(null)},children:Object(b.jsx)("img",{src:N,alt:v})})]})}var F={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)"};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.69675d2a.chunk.js.map