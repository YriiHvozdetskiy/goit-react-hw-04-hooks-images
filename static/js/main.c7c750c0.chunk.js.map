{"version":3,"sources":["components/ImageGalleryItem.jsx","components/ImageGallery.jsx","components/Searchbar.jsx","components/Button.jsx","api.js","components/Modal.jsx","App.js","index.js"],"names":["ImageGalleryItem","value","openModal","map","img","className","onClick","largeImageURL","tags","src","webformatURL","alt","id","ImageGallery","Searchbar","state","handleChange","e","target","setState","handleSubmit","preventDefault","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Button","Api","searchQuery","page","url","fetch","then","response","json","hits","incrementPage","catch","error","console","log","newQuery","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","children","apiImages","App","searchImages","loading","description","selectedImage","searchbar","a","query","resetPage","fetchImage","finally","loadMore","prevState","scrollTo","top","documentElement","scrollHeight","behavior","style","loaderStyles","color","height","width","length","position","left","transform","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c7c750c0.chunk.js","sourcesContent":["export const ImageGalleryItem = ({ value, openModal }) => {\r\n  return (\r\n    <>\r\n      {value.map(img => {\r\n        return (\r\n          <li\r\n            key={img.id}\r\n            className=\"ImageGalleryItem\"\r\n            onClick={() => openModal(img.largeImageURL, img.tags)}\r\n          >\r\n            <img\r\n              src={img.webformatURL}\r\n              alt={img.tags}\r\n              className=\"ImageGalleryItem-image\"\r\n            />\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n","import { ImageGalleryItem } from './ImageGalleryItem';\r\n\r\nexport const ImageGallery = ({ value, openModal }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        <ImageGalleryItem value={value} openModal={openModal} />\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n","import { Component } from 'react';\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    const { value } = e.target;\r\n\r\n    this.setState({ value: value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","export const Button = ({ onClick }) => {\r\n  return (\r\n    <>\r\n      <button className=\"Button\" type=\"button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n","const API_KEY = '21492726-451e87d3f3afe144072272f85';\r\n\r\nexport class Api {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  fetchImage() {\r\n    const url = `https://pixabay.com/api/?q=${this.searchQuery}&page=${this.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=15`;\r\n\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(({ hits }) => {\r\n        this.incrementPage();\r\n        return hits;\r\n      })\r\n      .catch(error => console.log('error', error));\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') return this.props.closeModal();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) return this.props.closeModal();\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport { ImageGallery } from './components/ImageGallery';\r\nimport { Searchbar } from './components/Searchbar';\r\nimport { Button } from './components/Button';\r\nimport { Api } from './api';\r\nimport { Modal } from './components/Modal';\r\n\r\nconst apiImages = new Api();\r\n\r\nexport class App extends Component {\r\n  state = {\r\n    searchImages: [],\r\n    loading: false,\r\n    description: null,\r\n    selectedImage: null,\r\n  };\r\n\r\n  searchbar = async value => {\r\n    if (!value) return;\r\n    apiImages.query = value;\r\n    apiImages.resetPage();\r\n    this.setState({ loading: true, searchImages: [] });\r\n\r\n    const img = await apiImages\r\n      .fetchImage()\r\n      .finally(() => this.setState({ loading: false }));\r\n\r\n    this.setState({ searchImages: img });\r\n  };\r\n\r\n  loadMore = async () => {\r\n    this.setState({ loading: true });\r\n\r\n    const img = await apiImages\r\n      .fetchImage()\r\n      .finally(() => this.setState({ loading: false }));\r\n\r\n    this.setState(prevState => {\r\n      return { searchImages: [...prevState.searchImages, ...img] };\r\n    });\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  openModal = (selectedImage, description) => {\r\n    this.setState({ selectedImage });\r\n    this.setState({ description });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ selectedImage: null });\r\n  };\r\n\r\n  render() {\r\n    const { searchImages, loading, selectedImage, description } = this.state;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.searchbar} />\r\n        {loading && (\r\n          <Loader\r\n            className=\"Overlay\"\r\n            style={loaderStyles}\r\n            type=\"BallTriangle\"\r\n            color=\"#00BFFF\"\r\n            height={200}\r\n            width={200}\r\n          />\r\n        )}\r\n        <ImageGallery value={searchImages} openModal={this.openModal} />\r\n\r\n        {searchImages.length !== 0 && <Button onClick={this.loadMore} />}\r\n        {selectedImage && (\r\n          <Modal closeModal={this.closeModal}>\r\n            <img src={selectedImage} alt={description} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst loaderStyles = {\r\n  position: 'fixed',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%,-50%)',\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport { App } from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}